{"version":3,"file":"dlib.js","sources":["../src/game/eventdispatcher.mjs","../src/game/node.mjs","../src/game/game.mjs","../src/game/scene.mjs","../src/game/drawablenode.mjs","../src/assetmanager/assetmanager.mjs","../src/sprite/sprite.mjs"],"sourcesContent":["export class EventDispatcher {\r\n  constructor () {\r\n    this.handlers = {}\r\n  }\r\n\r\n  on (eventType, listener) {\r\n    if (this.handlers[eventType] === undefined) {\r\n      this.handlers[eventType] = []\r\n    }\r\n\r\n    this.handlers[eventType].push(listener)\r\n\r\n    return this\r\n  }\r\n\r\n  addEventListener (...args) {\r\n    return this.on(...args)\r\n  }\r\n\r\n  off (eventType, listener) {\r\n    if (this.handlers[eventType]) {\r\n      const index = this.handlers[eventType].indexOf(listener)\r\n      if (index >= 0) {\r\n        this.handlers[eventType].splice(index, 1)\r\n      }\r\n    }\r\n\r\n    return this\r\n  }\r\n\r\n  removeEventListener (...args) {\r\n    return this.off(args)\r\n  }\r\n\r\n  once (eventType, listener) {\r\n    const w = () => {\r\n      listener()\r\n      this.off(eventType, w)\r\n    }\r\n    return this.on(eventType, w)\r\n  }\r\n\r\n  clearEventListener (eventType) {\r\n    this.handlers[eventType] = []\r\n    return this\r\n  }\r\n\r\n  fire (eventType, params) {\r\n    if (this.handlers[eventType]) {\r\n      this.handlers[eventType].forEach(_ => _(params))\r\n    }\r\n\r\n    return this\r\n  }\r\n}\r\n","import { EventDispatcher } from \"./eventdispatcher.mjs\"\r\n\r\nexport class Node extends EventDispatcher {\r\n  constructor () {\r\n    super()\r\n    this.parent = null\r\n    this.children = []\r\n  }\r\n\r\n  _update (params) {\r\n    this.update(params)\r\n    this.fire('update', params)\r\n    this.children.forEach((c) => {\r\n      c._update(params)\r\n    })\r\n  }\r\n\r\n  update (params) {}\r\n\r\n  addChild (node) {\r\n    this.children.push(node)\r\n    node.parent = this\r\n  }\r\n\r\n  removeChild (node) {\r\n    const index = this.children.indexOf(node)\r\n    if (index < 0) {\r\n      return\r\n    }\r\n    this.children(index, 1)\r\n    node.parent = null\r\n  }\r\n\r\n  addChildTo (parent) {\r\n    parent.addChild(this)\r\n    return this\r\n  }\r\n\r\n  remove () {\r\n    if (this.parent) {\r\n      this.parent.removeChild(this)\r\n    }\r\n    return this\r\n  }\r\n\r\n}\r\n","export class Game {\r\n  constructor () {\r\n    this.currentScene = null\r\n    this._running = false\r\n    this.time = 0\r\n    this.deltaTime = 0\r\n  }\r\n\r\n  start () {\r\n    this._running = true\r\n    this.time = Date.now()\r\n    this.deltaTime = 0\r\n    this._tick()\r\n  }\r\n\r\n  stop () {\r\n    this._running = false\r\n  }\r\n\r\n  _tick () {\r\n    if (this._running) {\r\n      this.deltaTime = Date.now() - this.time\r\n      this.time += this.deltaTime\r\n      if (this.currentScene) this.currentScene._update({ game: this })\r\n      requestAnimationFrame(() => this._tick())\r\n    }\r\n  }\r\n\r\n  switchScene (scene) {\r\n    this.currentScene = scene\r\n  }\r\n}\r\n","import { Node } from \"./node.mjs\";\r\n\r\nexport class Scene extends Node {\r\n  constructor (canvas) {\r\n    super()\r\n    this.canvas = canvas\r\n    this.context = canvas.getContext('2d')\r\n    this.background = 'transparent'\r\n  }\r\n\r\n  get background () {\r\n    return this.canvas.style.backgroundColor\r\n  }\r\n  set background (value) {\r\n    this.canvas.style.backgroundColor = value\r\n  }\r\n\r\n  get width () {\r\n    return this.canvas.width\r\n  }\r\n  set width (value) {\r\n    this.canvas.width = value\r\n  }\r\n\r\n  get height () {\r\n    return this.canvas.height\r\n  }\r\n  set height (value) {\r\n    this.canvas.height = value\r\n  }\r\n\r\n  _update (params) {\r\n    params.canvas = this.canvas\r\n    params.context = this.context\r\n\r\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)\r\n\r\n    this.update(params)\r\n    this.fire('update', params)\r\n    this.children.forEach((c) => {\r\n      c._update(params)\r\n      if (c._draw) c._draw(params)\r\n    })\r\n  }\r\n}\r\n","import { Node } from './node.mjs'\r\n\r\nexport class DrawableNode extends Node {\r\n  constructor () {\r\n    super()\r\n    this.position = [0, 0]\r\n    this.rotation = 0\r\n    this.scale = [1, 1]\r\n  }\r\n\r\n  get x () {\r\n    return this.position[0]\r\n  }\r\n  set x (value) {\r\n    this.position[0] = value\r\n  }\r\n\r\n  get y () {\r\n    return this.position[1]\r\n  }\r\n  set y (value) {\r\n    this.position[1] = value\r\n  }\r\n\r\n  get scaleX () {\r\n    return this.scale[0]\r\n  }\r\n  set scaleX (value) {\r\n    this.scale[0] = value\r\n  }\r\n\r\n  get scaleY () {\r\n    return this.scale[1]\r\n  }\r\n  set scaleY (value) {\r\n    this.scale[1] = value\r\n  }\r\n\r\n  _update (params) {\r\n    this.update(params)\r\n    this.fire('update', params)\r\n    this.children.forEach((c) => {\r\n      c._update(params)\r\n    })\r\n  }\r\n\r\n  _draw (params) {\r\n    const context = params.context\r\n    context.save()\r\n    context.translate(this.position[0], this.position[1])\r\n    context.rotate(this.rotation)\r\n    context.scale(this.scale[0], this.scale[1])\r\n    this.draw(params)\r\n    this.children.forEach((c) => {\r\n      if (c._draw) c._draw(params)\r\n    })\r\n    context.restore()\r\n  }\r\n\r\n  draw ({ canvas, context }) {}\r\n}\r\n","export class AssetManager {\r\n  constructor () {\r\n    this.assets = {}\r\n  }\r\n\r\n  async load (spec) {\r\n    return new Promise((resolve, reject) => {\r\n      const tasks = []\r\n      Object.keys(spec).forEach((assetType) => {\r\n        this.assets[assetType] = {}\r\n        return Object.keys(spec[assetType]).map((assetName) => {\r\n          const url = spec[assetType][assetName]\r\n          if (!AssetLoaders.loaders[assetType]) {\r\n            reject('unknown assetType')\r\n            return\r\n          }\r\n          const task = AssetLoaders.loaders[assetType]({ assetType, assetName, url })\r\n            .then((asset) => {\r\n              this.assets[assetType][assetName] = asset\r\n            })\r\n            .catch(reject)\r\n          tasks.push(task)\r\n        })\r\n      })\r\n      Promise.all(tasks).then(resolve)\r\n    })\r\n  }\r\n\r\n  get (assetType, assetName) {\r\n    return this.assets[assetType][assetName]\r\n  }\r\n}\r\n\r\nexport class AssetLoaders {\r\n  static loaders = {\r\n    image: ({ url }) => {\r\n      return new Promise((resolve, reject) => {\r\n        try {\r\n          const image = new Image()\r\n          image.onload = () => resolve(image)\r\n          image.src = url\r\n        } catch (e) {\r\n          reject(e)\r\n        }\r\n      })\r\n    },\r\n\r\n    text: async ({ url }) => {\r\n      const res = await fetch(url)\r\n      return await res.text()\r\n    },\r\n\r\n    json: async ({ url }) => {\r\n      const res = await fetch(url)\r\n      return await res.json()\r\n    }\r\n  }\r\n}\r\n","import { DrawableNode } from \"../game/drawablenode.mjs\"\r\n\r\nexport class Sprite extends DrawableNode {\r\n  constructor ({ image, sx, sy, sw, sh, width, height }) {\r\n    super()\r\n    this.image = image\r\n    this.sx = sx || 0\r\n    this.sy = sy || 0\r\n    this.sw = sw || image.width\r\n    this.sh = sh || image.height\r\n    this.width = width || image.width || 100\r\n    this.height = height || image.height || 100\r\n  }\r\n\r\n  draw ({ context }) {\r\n    context.drawImage(this.image, this.sx, this.sy, this.sw, this.sh, -this.width / 2, -this.height / 2, this.width, this.height)\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}